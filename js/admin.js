(()=>{"use strict";class t{constructor(){jQuery(document).ready((t=>{this.init()}))}getSelectors(){return{}}initSettings(){this.selectors||(this.selectors=this.getSelectors())}initElements(){this.elements={}}bindEvents(){}init(){this.initSettings(),this.initElements(),this.bindEvents()}}class e extends t{getSelectors(){return{backgroundColorPicker:".udi-bg-color-picker",whatsAppButton:"#whatsAppButton",textColorPicker:".udi-text-color-picker",wpColorPicker:".wp-color-picker"}}initElements(){const t=this.selectors;this.elements={$backgroundColorPicker:jQuery(t.backgroundColorPicker),$whatsAppButton:jQuery(t.whatsAppButton),$textColorPicker:jQuery(t.textColorPicker)}}init(){super.init(),this.initColorPickers()}initColorPickers(){const t=this.selectors;this.elements.$backgroundColorPicker.wpColorPicker({change:(t,e)=>{this.elements.$whatsAppButton.css("background-color",e.color.toString())},clear:e=>{jQuery(e.target).siblings(t.wpColorPicker)[0]&&this.elements.$whatsAppButton.css("background-color","#20B038")}}),this.elements.$textColorPicker.wpColorPicker({change:(t,e)=>{var n=e.color.toString();this.elements.$whatsAppButton.css("color",n)},clear:e=>{jQuery(e.target).siblings(t.wpColorPicker)[0]&&this.elements.$whatsAppButton.css("color","#ffffff")}})}}class n extends t{getSelectors(){return{whatsAppbuttonContainer:"#admin_wab_cont",buttonText:"#wab-text",buttonTypeSelect:"#awb_settings\\[button_type\\]",whatsAppButton:"#whatsAppButton",buttonIconSizeInput:"#awb_settings\\[icon_size\\]",buttonIconSizeMeasurementUnitInput:"#awb_settings\\[icon_size_mu\\]",buttonTextInput:"#awb_settings\\[button_text\\]",breakpointCheckbox:"#awb_settings\\[enable_breakpoint\\]",breakpointContainer:"#awb_breakpoint",hideButtonCheckbox:"#awb_settings\\[enable_hide_button\\]",hideButtonContainer:"#awb_hide_button",limitHoursCheckbox:"#awb_settings\\[limit_hours\\]",limitHoursContainer:"#awb_limit_hours",defaultMessageCheckbox:"#awb_settings\\[enable_message\\]",defaultMessageContainer:"#awb_enable_message",buttonBackground:"#awb_settings\\[button_bg_color\\]",buttonTextColor:"#awb_settings\\[button_text_color\\]",buttonLocationSelect:"#awb_settings\\[button_location\\]",distanceFromBottomInput:"#awb_settings\\[distance_from_bottom\\]",distanceFromBottomMeasurementUnitInput:"#awb_settings\\[distance_from_bottom_mu\\]",iconSizeSettingRow:"#iconSizeSettingRow",displayNone:"awb-hide"}}initElements(){const t=this.selectors;this.elements={$buttonContainer:jQuery(t.whatsAppbuttonContainer),$buttonText:jQuery(t.buttonText),$buttonTypeSelect:jQuery(t.buttonTypeSelect),$buttonIconSizeInput:jQuery(t.buttonIconSizeInput),$buttonIconSizeMeasurementUnitInput:jQuery(t.buttonIconSizeMeasurementUnitInput),$buttonTextInput:jQuery(t.buttonTextInput),$breakpointCheckbox:jQuery(t.breakpointCheckbox),$breakpointContainer:jQuery(t.breakpointContainer),$hideButtonCheckbox:jQuery(t.hideButtonCheckbox),$hideButtonContainer:jQuery(t.hideButtonContainer),$limitHoursCheckbox:jQuery(t.limitHoursCheckbox),$limitHoursContainer:jQuery(t.limitHoursContainer),$defaultMessageCheckbox:jQuery(t.defaultMessageCheckbox),$defaultMessageContainer:jQuery(t.defaultMessageContainer),$buttonBackground:jQuery(t.buttonBackground),$buttonTextColor:jQuery(t.buttonTextColor),$buttonLocationSelect:jQuery(t.buttonLocationSelect),$distanceFromBottomInput:jQuery(t.distanceFromBottomInput),$distanceFromBottomMeasurementUnitInput:jQuery(t.distanceFromBottomMeasurementUnitInput),$iconSizeSettingRow:jQuery(t.iconSizeSettingRow),$whatsAppButton:jQuery(t.whatsAppButton)}}bindEvents(){this.elements.$buttonIconSizeInput.on("input",(()=>this.updateIconSize())),this.elements.$buttonIconSizeMeasurementUnitInput.on("change",(()=>this.updateIconSize())),this.elements.$buttonTypeSelect.on("change",(()=>this.updateButtonType())),this.elements.$buttonTextInput.on("keyup",(()=>this.elements.$whatsAppButton.html(this.elements.$buttonTextInput.val()))),this.elements.$breakpointCheckbox.on("change",(()=>this.elements.$breakpointContainer.toggleClass("awb-hide"))),this.elements.$hideButtonCheckbox.on("change",(()=>this.elements.$hideButtonContainer.toggleClass("awb-hide"))),this.elements.$limitHoursCheckbox.on("change",(()=>this.elements.$limitHoursContainer.toggleClass("awb-hide"))),this.elements.$defaultMessageCheckbox.on("change",(()=>this.elements.$defaultMessageContainer.toggleClass("awb-hide"))),this.elements.$buttonBackground.on("change",(()=>this.elements.$whatsAppButton.css("background-color",this.elements.$buttonBackground.val()))),this.elements.$buttonTextColor.on("change",(()=>this.updateButtonTextColor())),this.elements.$buttonLocationSelect.on("change",(()=>this.updateButtonLocation())),this.elements.$distanceFromBottomInput.on("change",(()=>this.updateDistanceFromBottom())),this.elements.$distanceFromBottomMeasurementUnitInput.on("change",(()=>this.updateDistanceFromBottom()))}updateIconSize(){if("wab-icon-plain"!==this.elements.$buttonTypeSelect.val())return;const t=this.elements.$buttonIconSizeInput.val()+this.elements.$buttonIconSizeMeasurementUnitInput.val();this.elements.$whatsAppButton.css("width",t),this.elements.$whatsAppButton.css("height",t)}updateButtonType(){const t=this.elements.$buttonTypeSelect.val();this.elements.$buttonContainer.removeClass("wab-side-rectangle wab-bottom-rectangle wab-icon-plain"),this.elements.$buttonContainer.addClass(t),"wab-icon-plain"===t?(this.elements.$buttonText.addClass(this.selectors.displayNone),this.elements.$iconSizeSettingRow.removeClass(this.selectors.displayNone)):(this.elements.$buttonText.removeClass(this.selectors.displayNone),this.elements.$iconSizeSettingRow.addClass(this.selectors.displayNone)),"wab-bottom-rectangle"===t&&this.elements.$buttonContainer.css("bottom","")}updateButtonText(){this.elements.$whatsAppButton.length||(this.elements.$whatsAppButton=jQuery(this.selectors.whatsAppButton)),this.elements.$whatsAppButton.html(this.elements.$buttonTextInput.value)}updateButtonTextColor(){this.elements.$buttonTextColor.value?this.elements.$whatsAppButton.css("color",this.elements.$buttonTextColor.value):this.elements.$whatsAppButton.css("color","#ffffff")}updateButtonLocation(){"right"==this.elements.$buttonLocationSelect.val()?(this.elements.$buttonContainer.addClass("wab-pull-right"),this.elements.$buttonContainer.removeClass("wab-pull-left")):"left"==this.elements.$buttonLocationSelect.val()&&(this.elements.$buttonContainer.addClass("wab-pull-left"),this.elements.$buttonContainer.removeClass("wab-pull-right"))}updateDistanceFromBottom(){this.elements.$buttonContainer.css("bottom",this.elements.$distanceFromBottomInput.val()+this.elements.$distanceFromBottomMeasurementUnitInput.val())}}class s extends t{getSelectors(){return{submitButton:"form #submit",generalSettingsTabButton:"#gstablink",designTabButton:"#bdtablink",generalSettingsTabContent:"#gstab",designTabContent:"#bdtab"}}initElements(){const t=this.getSelectors();this.elements={$submitButton:jQuery(t.submitButton),$generalSettingsTabButton:jQuery(t.generalSettingsTabButton),$designTabButton:jQuery(t.designTabButton),$generalSettingsTabContent:jQuery(t.generalSettingsTabContent),$designTabContent:jQuery(t.designTabContent)}}initModules(){this.colorPicker=new e,this.settingsHandler=new n}init(){super.init(),this.initModules(),this.handleSettingsPageTabs()}bindEvents(){this.elements.$submitButton.on("keypress",(t=>this.preventSubmitOnEnter(t)))}preventSubmitOnEnter(t){return 13!==t.which}handleSettingsPageTabs(){this.elements.$generalSettingsTabButton.on("click",(()=>{this.elements.$generalSettingsTabContent.hasClass("awb-tab-active")||(this.elements.$generalSettingsTabContent.addClass("awb-tab-active"),this.elements.$generalSettingsTabButton.addClass("nav-tab-active"),this.elements.$designTabButton.removeClass("nav-tab-active"),this.elements.$designTabContent.removeClass("awb-tab-active"))})),this.elements.$designTabButton.on("click",(()=>{this.elements.$designTabContent.hasClass("awb-tab-active")||(this.elements.$designTabContent.addClass("awb-tab-active"),this.elements.$designTabButton.addClass("nav-tab-active"),this.elements.$generalSettingsTabButton.removeClass("nav-tab-active"),this.elements.$generalSettingsTabContent.removeClass("awb-tab-active"))}))}}jQuery(document).ready((()=>new s))})();